class BiLive_PlayWithMeJS{static Paramaters=new Map;static AuthCode="";static AppID=1653902473586;static RoomID="必须先执行AppStart，服务器才会解密身份码返回主播的真实数据";static UID="必须先执行AppStart，服务器才会解密身份码返回主播的真实数据";static Avator="必须先执行AppStart，服务器才会解密身份码返回主播的真实数据";static NickName="必须先执行AppStart，服务器才会解密身份码返回主播的真实数据";static CodeSign="";static MID="";static Timestamp="";static GiftCombine_Enable=!0;static GiftCombine_Map=new Map;static GiftCombine_Countdown=5;static AppStarted(Msg){}static NewDanmaku(Msg){}static NewGifts(Msg){}static NewGuard(Msg){}static NewSC(Msg){}static DelSC(Msg){}static AppStartResponse=null;static WSClient=null;static Init(){console.warn("[BiLive_PlayWithMeJS]","想来想去还是把很多控制台输出改成了DeBug\n现在通讯流程和签名流程产生的数据都在DeBug项目里，默认不显示\n要想观看完整流程，请先勾选 [日志级别：详细] \n【选项位于控制台输出区正上方过滤器输入框右边】"),window.location.search.substring(1).split("&").forEach(str=>{let KAndV=str.split("=");BiLive_PlayWithMeJS.Paramaters.set(KAndV[0].toUpperCase(),2===KAndV.length?KAndV[1]:"")}),console.log("[BiLive_PlayWithMeJS]","检测到的网页Parameter",BiLive_PlayWithMeJS.Paramaters),BiLive_PlayWithMeJS.AuthCode.length>0&&console.warn("检测到参数Code写死，这是一种不建议的写法\n如果你的插件会公开，建议你把主播身份码放入网址参数中\n如 Demo.html?CODE=BNB1RBFZQ96O4 \n我们会自动从参数中获取Code"),BiLive_PlayWithMeJS.Paramaters.has("CODE")&&(BiLive_PlayWithMeJS.AuthCode=BiLive_PlayWithMeJS.Paramaters.get("CODE"),console.log("检测到参数Code："+BiLive_PlayWithMeJS.AuthCode+"，载入主播授权的身份码！")),BiLive_PlayWithMeJS.Paramaters.has("CODESIGN")&&(BiLive_PlayWithMeJS.CodeSign=BiLive_PlayWithMeJS.Paramaters.get("CODESIGN")),BiLive_PlayWithMeJS.Paramaters.has("TIMESTAMP")&&(BiLive_PlayWithMeJS.Timestamp=parseInt(BiLive_PlayWithMeJS.Paramaters.get("TIMESTAMP"))),BiLive_PlayWithMeJS.Paramaters.has("MID")&&(BiLive_PlayWithMeJS.MID=parseInt(BiLive_PlayWithMeJS.Paramaters.get("MID"))),BiLive_PlayWithMeJS.AuthCode.length>0?(console.log("检测到主播授权的身份码，自动启动"),BiLive_PlayWithMeJS.AppStart()):(console.log("未检测检测到主播授权的身份码，尝试弹窗"),BiLive_PlayWithMeJS_AuthDialog.Show())}static AppStart(){null==BiLive_PlayWithMeJS.AppStartResponse?BiLive_PlayWithMeJS_Authorizer.Chk_SameOriginAuthorizerServer()?BiLive_PlayWithMeJS.AppStart_SameOrigin():BiLive_PlayWithMeJS_Authorizer.Chk_JSONPAuthorizerServer()&&BiLive_PlayWithMeJS.AppStart_JSONP():BiLive_PlayWithMeJS.AfterAppStart()}static AfterAppStart(){0==BiLive_PlayWithMeJS.AppStartResponse.code?(console.log("[BiLive_PlayWithMeJS]","AppStart 请求成功，下发房间数据与开平长链登录JSON",BiLive_PlayWithMeJS.AppStartResponse),BiLive_PlayWithMeJS.RoomID=BiLive_PlayWithMeJS.AppStartResponse.data.anchor_info.room_id,BiLive_PlayWithMeJS.UID=BiLive_PlayWithMeJS.AppStartResponse.data.anchor_info.uid,BiLive_PlayWithMeJS.Avator=BiLive_PlayWithMeJS.AppStartResponse.data.anchor_info.uface,BiLive_PlayWithMeJS.NickName=BiLive_PlayWithMeJS.AppStartResponse.data.anchor_info.uname,BiLive_PlayWithMeJS.WSClient=new BiLive_PlayWithMeJS_WEBSocketClient):(BiLive_PlayWithMeJS_UtilTools.AnalyzeErrCode(BiLive_PlayWithMeJS.AppStartResponse.code),BiLive_PlayWithMeJS.Test({data:{fans_medal_level:21,fans_medal_name:"官方",fans_medal_wearing_status:!1,guard_level:0,msg:"PlayWithMe：签名失败，"+BiLive_PlayWithMeJS.AppStartResponse.message,timestamp:1655354216,uid:3102384,uname:"猫裙少年泽远喵",uface:"http://i0.hdslb.com/bfs/face/7ced8612a3f3ef10e7238ee22b4c6948d3f53139.jpg",room_id:4639581},cmd:"LIVE_OPEN_PLATFORM_DM"}))}static GiftCombine_Timer=setInterval(()=>{BiLive_PlayWithMeJS.GiftCombine_Map.forEach((v,k,map)=>{v.Tick()})},1e3);static is_LiveHime(){return window.location.href.includes("livehime_ts")}static is_OBS(){return navigator.userAgent.includes("OBS")}static DanmakuBlackList=new Set(["老板大气！点点红包抽礼物！","前方高能预警，注意这不是演习","我从未见过如此厚颜无耻之人","那万一赢了呢","你们城里人真会玩","左舷弹幕太薄了","要优雅，不要污","我选择狗带"]);static Test(JSON){BiLive_PlayWithMeJS_WEBSocketClient.NewJSONMsg(JSON)}static AppStart_JSONP(){let Elmts=document.createElement("script");Elmts.src=BiLive_PlayWithMeJS_Authorizer.JSONPAuthorizerServer+window.location.search+"&AppID="+BiLive_PlayWithMeJS.AppID+"&PWMID="+BiLive_PlayWithMeJS_Authorizer.PWMID,document.body.appendChild(Elmts),console.log("[BiLive_PlayWithMeJS]","尝试 第三方JSONP代签 请求 AppStart"),Elmts.onload=evt=>{BiLive_PlayWithMeJS.AppStartResponse=PlayWithMe_AuthorizerProxyResponse,BiLive_PlayWithMeJS.AfterAppStart(),evt.currentTarget.remove()},Elmts.onerror=evt=>{BiLive_PlayWithMeJS.Test({data:{fans_medal_level:21,fans_medal_name:"官方",fans_medal_wearing_status:!1,guard_level:0,msg:"PlayWithMe：JSONP代签失败，"+BiLive_PlayWithMeJS.AppStartResponse.msg,timestamp:1655354216,uid:3102384,uname:"猫裙少年泽远喵",uface:"http://i0.hdslb.com/bfs/face/7ced8612a3f3ef10e7238ee22b4c6948d3f53139.jpg",room_id:4639581},cmd:"LIVE_OPEN_PLATFORM_DM"}),evt.currentTarget.remove()}}static AppStart_SameOrigin(){let AppStartRequest=new Request(BiLive_PlayWithMeJS_Authorizer.SameOriginAuthorizerServer,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({AppID:BiLive_PlayWithMeJS.AppID,PWMID:BiLive_PlayWithMeJS_Authorizer.PWMID,Code:BiLive_PlayWithMeJS.AuthCode,CodeSign:BiLive_PlayWithMeJS.CodeSign,Mid:BiLive_PlayWithMeJS.MID,Timestamp:BiLive_PlayWithMeJS.Timestamp})});console.log("[BiLive_PlayWithMeJS]","尝试 第三方普通代签 请求 AppStart"),fetch(AppStartRequest).then(res=>{res.json().then(json=>{BiLive_PlayWithMeJS.AppStartResponse=json,BiLive_PlayWithMeJS.AfterAppStart()})}).then(BiLive_PlayWithMeJS.Test({data:{fans_medal_level:21,fans_medal_name:"官方",fans_medal_wearing_status:!1,guard_level:0,msg:"PlayWithMe：签名失败，接口不可用",timestamp:1655354216,uid:3102384,uname:"猫裙少年泽远喵",uface:"http://i0.hdslb.com/bfs/face/7ced8612a3f3ef10e7238ee22b4c6948d3f53139.jpg",room_id:4639581},cmd:"LIVE_OPEN_PLATFORM_DM"}))}}class BiLive_PlayWithMeJS_WEBSocketClient extends WebSocket{constructor(){super("wss://broadcastlv.chat.bilibili.com:443/sub"),this.onopen=evt=>{this.Login()},this.onmessage=msg=>{let Reader=new FileReader;Reader.onloadend=rdr=>this.NewPkg(new Uint8Array(rdr.currentTarget.result)),Reader.readAsArrayBuffer(msg.data)}}Login(){let Body=BiLive_PlayWithMeJS_UtilTools.Str2Uint8Array(BiLive_PlayWithMeJS.AppStartResponse.data.websocket_info.auth_body),PkgLength=16+Body.length,PkgData=new Array;PkgData.push.apply(PkgData,[0,0,PkgLength/255,PkgLength%255,0,16,0,0,0,0,0,7,0,0,0,0]),PkgData.push.apply(PkgData,Body),PkgData=new Uint8Array(PkgData),console.log("[BiLive_PlayWithMeJS] [开平长链]","准备发送握手，申请监听直播间"),console.debug("[BiLive_PlayWithMeJS] [开平长链]","发送\n"+BiLive_PlayWithMeJS_UtilTools.Uint8Array2HexStr(PkgData)),this.send(PkgData)}LoginAuthorized(){this.HeartBeat(),setInterval(()=>{this.HeartBeat()},2e4)}HeartBeat(){let PkgData=new Uint8Array([0,0,0,16,0,16,0,0,0,0,0,2,0,0,0,0]);console.debug("[BiLive_PlayWithMeJS] [开平长链]","发送心跳包【踢服务器一jio】，内容如下\n"+BiLive_PlayWithMeJS_UtilTools.Uint8Array2HexStr(PkgData)),this.send(PkgData)}NewPkg(Pkg){if(console.debug("[BiLive_PlayWithMeJS] [开平长链]","收到服务器的数据包\n"+BiLive_PlayWithMeJS_UtilTools.Uint8Array2HexStr(Pkg)),Pkg[7]<2)switch(Pkg[11]){case 3:console.log("[BiLive_PlayWithMeJS] [开平长链]","收到服务器收到心跳包后的回执【服务器很傲娇的踹了回来】");break;case 5:let Jsn=JSON.parse(decode_utf8.decodeUtf8(Pkg.slice(16)));console.log("[BiLive_PlayWithMeJS] [开平长链]","收到新直播间事件，解码后内容为\n",Jsn),BiLive_PlayWithMeJS_WEBSocketClient.NewJSONMsg(Jsn);break;case 8:console.log("[BiLive_PlayWithMeJS] [开平长链]","服务器收到登录包并确认你是正经开发者，回复握手包【服务器终于打算理你了】"),console.log("[BiLive_PlayWithMeJS] [开平长链]","开平长链建立成功，开始监听 "+BiLive_PlayWithMeJS.NickName+" 的直播间，房间号 "+BiLive_PlayWithMeJS.RoomID),this.LoginAuthorized(),BiLive_PlayWithMeJS.AppStarted(BiLive_PlayWithMeJS.AppStartResponse),BiLive_PlayWithMeJS.Test({data:{fans_medal_level:21,fans_medal_name:"官方",fans_medal_wearing_status:!1,guard_level:0,msg:"已成功通过开平长链连接到房间："+BiLive_PlayWithMeJS.RoomID,timestamp:1655354216,uid:3102384,uname:"猫裙少年泽远喵",uface:"http://i0.hdslb.com/bfs/face/7ced8612a3f3ef10e7238ee22b4c6948d3f53139.jpg",room_id:4639581},cmd:"LIVE_OPEN_PLATFORM_DM"})}}static NewJSONMsg(Msg){switch(Msg.cmd){case"LIVE_OPEN_PLATFORM_DM":BiLive_PlayWithMeJS.DanmakuBlackList.has(Msg.data.msg)||(Msg.data.type="Danmaku",BiLive_PlayWithMeJS.NewDanmaku(Msg.data));break;case"LIVE_OPEN_PLATFORM_SEND_GIFT":if(BiLive_PlayWithMeJS.GiftCombine_Enable){let ID=BiLive_PlayWithMeJS_CombinedGifts.MakeID(Msg.data);BiLive_PlayWithMeJS.GiftCombine_Map.has(ID)?BiLive_PlayWithMeJS.GiftCombine_Map.get(ID).Add(Msg.data.gift_num):BiLive_PlayWithMeJS.GiftCombine_Map.set(ID,new BiLive_PlayWithMeJS_CombinedGifts(Msg.data))}else Msg.data.type="Gifts",BiLive_PlayWithMeJS.NewGifts(Msg.data);break;case"LIVE_OPEN_PLATFORM_GUARD":switch(Msg.data.guard_level){case 3:Msg.data.guard_level_name="舰长";break;case 2:Msg.data.guard_level_name="提督";break;case 1:Msg.data.guard_level_name="总督"}Msg.data.type="Guard",BiLive_PlayWithMeJS.NewGuard(Msg.data);break;case"LIVE_OPEN_PLATFORM_SUPER_CHAT":Msg.data.type="SuperChat",BiLive_PlayWithMeJS.NewSC(Msg.data);break;case"LIVE_OPEN_PLATFORM_SUPER_CHAT_DEL":Msg.data.type="DeleteSuperChat",BiLive_PlayWithMeJS.SCDel(Msg.data)}}}class BiLive_PlayWithMeJS_Authorizer{static BiliOpenLiveAccessKey="";static BiliOpenLiveSecretKey="";static SameOriginAuthorizerServer="";static JSONPAuthorizerServer="";static PWMID="";static Chk_DvlprKeys(){let Rtn=!0;return null!=BiLive_PlayWithMeJS_Authorizer.BiliOpenLiveAccessKey&&""!=BiLive_PlayWithMeJS_Authorizer.BiliOpenLiveAccessKey&&void 0!==BiLive_PlayWithMeJS_Authorizer.BiliOpenLiveAccessKey||(console.error("[BiLive_PlayWithMeJS] [开平签名器]",'未能检测到有效的AccessKey\n如果你打算进行离线测试与体验，请把自己的Key写入根目录下的 MyOpenLiveKey.js 内\n或设置 BiLive_PlayWithMeJS_Authorizer.AccessKey = "你的开放平台开发者AccessKey"'),Rtn=!1),null!=BiLive_PlayWithMeJS_Authorizer.BiliOpenLiveSecretKey&&""!=BiLive_PlayWithMeJS_Authorizer.BiliOpenLiveSecretKey&&void 0!==BiLive_PlayWithMeJS_Authorizer.BiliOpenLiveSecretKey||(console.error("[BiLive_PlayWithMeJS] [开平签名器]",'未能检测到有效的SecretKey\n如果你打算进行离线测试与体验，请把自己的Key写入根目录下的 MyOpenLiveKey.js 内\n或设置 BiLive_PlayWithMeJS_Authorizer.SecretKey = "你的开放平台开发者SecretKey"'),Rtn=!1),Rtn}static Chk_FanFanParam(){return!(BiLive_PlayWithMeJS.Paramaters.has("CODESIGN")||BiLive_PlayWithMeJS.Paramaters.has("MID")||BiLive_PlayWithMeJS.Paramaters.has("TIMESTAMP")||BiLive_PlayWithMeJS.Paramaters.has("CODE"))||(console.error("[BiLive_PlayWithMeJS] [开平签名器]","未能检测到有效的饭贩参数组"),!1)}static Chk_PWMID(){return!(BiLive_PlayWithMeJS_Authorizer.PWMID.length<=0)||(console.error("[BiLive_PlayWithMeJS] [开平签名器]","未能检测到有效的代签服务ID"),!1)}static Chk_SameOriginAuthorizerServer(){return null!=BiLive_PlayWithMeJS_Authorizer.SameOriginAuthorizerServer&&""!=BiLive_PlayWithMeJS_Authorizer.SameOriginAuthorizerServer&&void 0!==BiLive_PlayWithMeJS_Authorizer.SameOriginAuthorizerServer||(console.error("[BiLive_PlayWithMeJS] [开平签名器]","未能检测到有效的同源代签服务器接口"),!1)}static Chk_JSONPAuthorizerServer(){return null!=BiLive_PlayWithMeJS_Authorizer.JSONPAuthorizerServer&&""!=BiLive_PlayWithMeJS_Authorizer.JSONPAuthorizerServer&&void 0!==BiLive_PlayWithMeJS_Authorizer.JSONPAuthorizerServer||(console.error("[BiLive_PlayWithMeJS] [开平签名器]","未能检测到有效的JSONP代签服务器接口"),!1)}}class BiLive_PlayWithMeJS_UtilTools{static Uint8Array2HexStr(Uint8Array){return Array.prototype.map.call(Uint8Array,x=>("00"+x.toString(16)).slice(-2)).join(" ")}static Str2Uint8Array(Str){for(var arr=[],i=0,j=Str.length;i<j;++i)arr.push(Str.charCodeAt(i));return new Uint8Array(arr)}static AnalyzeErrCode(ErrCode){switch(ErrCode){case 4002:console.error("请求失败，错误码 4002\n你的HMAC签名无效，可能是使用了错误的开发者SecretKey，或者待签名字符串有误")}}static Timestamp2DateObj(Timestamp){return new Date(1e3*Timestamp)}static Timestamp2DateStr(Timestamp){return UtilTools.Timestamp2DateObj(Timestamp).toLocaleString()}}class BiLive_PlayWithMeJS_CombinedGifts{Evt={};TimerCount=0;constructor(Gft){this.Evt=Gft,this.Evt.type="Gifts"}Add(Num){this.Evt.gift_num+=Num,this.TimerCount=0}Tick(){this.TimerCount+=1,this.TimerCount>BiLive_PlayWithMeJS.GiftCombine_Countdown&&this.Execute()}static MakeID(Gft){return Gft.uid+"-"+Gft.gift_id}Execute(){BiLive_PlayWithMeJS.NewGifts(this.Evt),BiLive_PlayWithMeJS.GiftCombine_Map.delete(BiLive_PlayWithMeJS_CombinedGifts.MakeID(this.Evt))}}class BiLive_PlayWithMeJS_AuthDialog{static Show(){let Style=document.createElement("style");Style.id="css_PlayWithMeJS_AuthDialog",Style.innerHTML="#div_PlayWithMeJS_AuthDialog {            z-index:9999;            position: fixed;            width: 100vw;            width: -webkit-fill-available;            height: 100vh;            height: -webkit-fill-available;            background-color: #0004;            user-select: none;            display: flex;            justify-content: center;            align-items: center;            margin: 0;            top: 0;            left: 0;            right: 0;            bottom: 0;        }                #div_PlayWithMeJS_AuthDialog_Dialog {            width: 30vw;            min-width: 30rem;            height: 30vh;            min-height: 20rem;            background-color: #fff;            border-radius: .5rem;            position: relative;        }                #div_PlayWithMeJS_AuthDialog_Dialog>h1 {            color: #FF6699;            width: 100%;            font-weight: 300;            font-size: 1.5rem;            text-align: center;            position: absolute;            top: 7%;        }                #p_PlayWithMeJS_AuthDialog_Input {            border-top-left-radius: .5rem;            border-bottom-left-radius: .5rem;            border: .1em solid #E3E5E7;            background-color: #F6F7F8;            text-align: center;            position: absolute;            width: 5rem;            height: 2rem;            line-height: 2rem;            top: 30%;            left: calc(38% - 5rem);            margin: 0;        }                #ipt_PlayWithMeJS_AuthDialog_Input {            border-top-right-radius: .5rem;            border-bottom-right-radius: .5rem;            border: .1em solid #E3E5E7;            background-color: #FFFFFF;            text-align: center;            position: absolute;            height: 2rem;            line-height: 2rem;            top: 30%;            left: 38%;            width: 40%;        }                #div_PlayWithMeJS_AuthDialog_Dialog>h4 {            color: #BBB;            width: 100%;            font-weight: 300;            font-size: .5rem;            text-align: center;            position: absolute;            top: 40%;        }                .img_Bili_FootLogo {            position: absolute;            left: 0;            bottom: 0;        }        .img_Bili_Help {            vertical-align: top;            height: 3rem;        }                #btn_PlayWithMeJS_AuthDialog_Confirm {            background-color: #FF6699;            color: #FFF;            text-align: center;            border-radius: .7rem;            line-height: 2.5rem;            height: 2.5rem;            width: 10rem;            left: calc(50% - 5rem);            right: calc(50% - 5rem);            bottom: 20%;            position: absolute;        }                #a_PlayWithMeJS_AuthDialog_Description {            position: absolute;            bottom: 0;            right: 0;            width: 8rem;            text-align: center;            color: #BBB;            line-height: 3rem;        }                #a_PlayWithMeJS_AuthDialog_GoGet {            color: #FF6699;            position: absolute;            bottom: 7%;            left: calc(50% - 1.5em);            text-decoration: none;        }",document.head.appendChild(Style);let HTML=document.createElement("div");HTML.id="div_PlayWithMeJS_AuthDialog",HTML.innerHTML='<div id=\'div_PlayWithMeJS_AuthDialog\'>        <div id=\'div_PlayWithMeJS_AuthDialog_Dialog\'>            <h1>请提供您的主播身份码</h1>            <h4>提供身份码视为您授权此插件监听您的直播间<br/> 请不要向不信任的插件提供身份码                <br/> 如您怀疑身份码被恶意冒用，请点击刷新更换            </h4>            <p id=\'p_PlayWithMeJS_AuthDialog_Input\' placeholder=\'请输入您网页端上的身份码\'>身份码</p>            <input id=\'ipt_PlayWithMeJS_AuthDialog_Input\'>            <a id=\'btn_PlayWithMeJS_AuthDialog_Confirm\' onclick=\'BiLive_PlayWithMeJS_AuthDialog.Confirm();\'>授权此插件</a>            <svg class=\'img_Bili_FootLogo\'  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="138.20126342773438" height="99.42987060546875" viewBox="0 0 138.20126342773438 99.42987060546875"><defs><mask id="master_svg0_0_1127"><g style="mix-blend-mode:passthrough"><rect x="0" y="0" width="138.20126342773438" height="99.42987060546875" rx="0" fill="#FFFFFF" fill-opacity="1"/></g></mask><radialGradient cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" id="master_svg1__005" gradientTransform="translate(63.807690675224876 8.587513662200081) rotate(92.8815830230863) scale(100.34351882787351 165.70771456468367)"><stop offset="0%" stop-color="#FB7299" stop-opacity="1"/><stop offset="100%" stop-color="#FB7299" stop-opacity="0.24076704680919647"/></radialGradient></defs><g style="mix-blend-mode:passthrough"><g><g style="mix-blend-mode:passthrough"><g mask="url(#master_svg0_0_1127)"><path d="M97.21114928741456,12.331931427001955L119.91944928741455,12.331931427001955C132.13144928741457,12.331931427001955,142.12244928741455,22.40643142700195,142.12244928741455,34.71993142700195L142.12244928741455,90.77953142700196C142.12244928741455,103.09343142700196,132.13144928741457,113.16743142700196,119.91944928741455,113.16743142700196L116.61144928741454,113.16743142700196C116.61144928741454,117.23743142700195,113.33844928741455,120.53743142700195,109.30154928741455,120.53743142700195C105.26524928741455,120.53743142700195,101.99334928741455,117.23743142700195,101.99334928741455,113.16743142700196L50.04184928741455,113.16743142700196C50.04184928741455,117.23743142700195,46.76994928741455,120.53743142700195,42.73294928741455,120.53743142700195C38.696549287414555,120.53743142700195,35.42474928741455,117.23743142700195,35.42474928741455,113.16743142700196L32.115649287414556,113.16743142700196C19.90473928741455,113.16743142700196,9.91344928741455,103.09343142700196,9.91344928741455,90.77953142700196L9.91344928741455,34.71993142700195C9.91344928741455,22.40643142700195,19.90473928741455,12.331931427001955,32.115649287414556,12.331931427001955L55.22064928741455,12.331931427001955L44.49384928741455,1.5149614270019534C42.74804928741455,-0.2461885729980473,42.74804928741455,-3.127508572998047,44.49384928741455,-4.887968572998047C46.23964928741455,-6.649115572998047,49.09764928741455,-6.648421572998047,50.84414928741455,-4.887968572998047L67.91984928741455,12.331931427001955L84.51134928741455,12.331931427001955L101.58774928741455,-4.887968572998047C103.33354928741456,-6.648421572998047,106.19154928741455,-6.649115572998047,107.93724928741455,-4.887968572998047C109.68374928741456,-3.127508572998047,109.68304928741455,-0.2461885729980473,107.93724928741455,1.5149614270019534L97.21114928741456,12.331931427001955ZM33.94164928741455,98.79943142700195L118.94944928741455,98.79943142700195C123.40044928741455,98.79943142700195,127.07544928741456,95.14543142700195,127.04244928741456,90.67913142700195L126.62044928741454,33.71373142700195C126.58744928741456,29.248031427001955,122.97944928741455,25.593131427001953,118.52844928741455,25.593131427001953L33.52024928741455,25.593131427001953C29.06904928741455,25.593131427001953,25.39484928741455,29.248031427001955,25.427649287414553,33.71373142700195L25.84904928741455,90.67913142700195C25.88194928741455,95.14543142700195,29.49104928741455,98.79943142700195,33.94164928741455,98.79943142700195Z" fill-rule="evenodd" transform="matrix(0.9659258127212524,0.2588190734386444,-0.2588190734386444,0.9659258127212524,-1.2691032378459113,-2.7773416874389056)" fill="url(#master_svg1__005)" fill-opacity="0.13947173953056335"/><g style="mix-blend-mode:passthrough"><path d="M46.069020147705075,47.42802429199219L17.628620147705078,52.72129429199219L19.73090014770508,63.07742429199219L48.17202014770508,57.784124291992185L46.069020147705075,47.42802429199219ZM73.40342014770508,57.784124291992185L101.84442014770508,63.07742429199219L103.94682014770508,52.72129429199219L75.50572014770508,47.42802429199219L73.40342014770508,57.784124291992185ZM73.94422014770508,78.33542429199218C74.42922014770508,77.63142429199219,75.24212014770508,77.16812429199219,76.16552014770508,77.16812429199219C77.65212014770508,77.16812429199219,78.71542014770507,78.41252429199218,78.71542014770507,79.89162429199219C78.71542014770507,80.36782429199218,78.59532014770508,80.80382429199219,78.39572014770508,81.1859242919922L78.40532014770508,81.19132429199219C78.40532014770508,81.19132429199219,75.15162014770507,87.8555242919922,68.14202014770507,87.8555242919922C63.811320147705075,87.8555242919922,60.78812014770508,84.4531242919922,60.78812014770508,84.4531242919922C60.78812014770508,84.4531242919922,57.764220147705075,87.8555242919922,53.43412014770508,87.8555242919922C46.423920147705076,87.8555242919922,43.17012014770508,81.19132429199219,43.17012014770508,81.19132429199219L43.18042014770508,81.1859242919922C42.98012014770508,80.80382429199219,42.860120147705075,80.36782429199218,42.860120147705075,79.89162429199219C42.860120147705075,78.41252429199218,43.92342014770507,77.16812429199219,45.40992014770508,77.16812429199219C46.33332014770508,77.16812429199219,47.146920147705075,77.63142429199219,47.631920147705074,78.33542429199218L47.63402014770508,78.33342429199219C47.63402014770508,78.33342429199219,50.08922014770508,82.34982429199218,52.97452014770508,82.34982429199218C57.57422014770508,82.34982429199218,57.90412014770508,78.08712429199218,60.78812014770508,74.81442429199218C63.67132014770508,78.08712429199218,64.00202014770508,82.34982429199218,68.60162014770508,82.34982429199218C71.48632014770507,82.34982429199218,73.94152014770508,78.33342429199219,73.94152014770508,78.33342429199219L73.94422014770508,78.33542429199218Z" fill-rule="evenodd" transform="matrix(0.9659258127212524,0.2588190734386444,-0.2588190734386444,0.9659258127212524,12.875958206657742,-2.9465517506445167)" fill="#FFEFF4" fill-opacity="1"/></g></g></g></g></g></svg>            <a id=\'a_PlayWithMeJS_AuthDialog_GoGet\' href=\'https://link.bilibili.com/p/center/index#/my-room/start-live\' target=\'_blank\'>去复制</a>            <a id=\'a_PlayWithMeJS_AuthDialog_Description\'>            <svg class=\'img_Bili_Help\'  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="15" height="15" viewBox="0 0 15 15"><clipPath id="master_svg0_0_1077"><rect x="0" y="0" width="15" height="15" rx="0"/></clipPath><g clip-path="url(#master_svg0_0_1077)" style="mix-blend-mode:passthrough"><g><g style="mix-blend-mode:passthrough"><path d="M6.796875,11.489529609680176C6.796875,11.877864609680175,7.11167,12.192654609680176,7.5,12.192654609680176C7.888335,12.192654609680176,8.203125,11.877864609680175,8.203125,11.489529609680176C8.203125,11.101199609680176,7.888335,10.786404609680176,7.5,10.786404609680176C7.11167,10.786404609680176,6.796875,11.101199609680176,6.796875,11.489529609680176C6.796875,11.489529609680176,6.796875,11.489529609680176,6.796875,11.489529609680176Z" fill="#BBB" fill-opacity="1"/></g><g style="mix-blend-mode:passthrough"><path d="M7.5,14.0625C3.88125,14.0625,0.9375,11.1187,0.9375,7.5C0.9375,3.88125,3.88125,0.9375,7.5,0.9375C11.1187,0.9375,14.0625,3.88125,14.0625,7.5C14.0625,11.1187,11.1187,14.0625,7.5,14.0625C7.5,14.0625,7.5,14.0625,7.5,14.0625ZM7.5,1.879204C4.40062,1.879204,1.879204,4.40062,1.879204,7.5C1.879204,10.59891,4.40062,13.1208,7.5,13.1208C10.59891,13.1208,13.1208,10.59892,13.1208,7.5C13.1208,4.40062,10.59891,1.879204,7.5,1.879204C7.5,1.879204,7.5,1.879204,7.5,1.879204C7.5,1.879204,7.5,1.879204,7.5,1.879204Z" fill="#BBB" fill-opacity="1"/></g><g style="mix-blend-mode:passthrough"><path d="M7.5,9.868573759536744C7.2412399999999995,9.868573759536744,7.03125,9.658573759536743,7.03125,9.399843759536743C7.03125,9.399843759536743,7.03125,8.607183759536742,7.03125,8.607183759536742C7.03125,7.840293759536743,7.61717,7.254373759536743,8.13467,6.737343759536744C8.51388,6.357653759536744,8.90624,5.965783759536743,8.90624,5.653123759536744C8.90624,4.8717137595367435,8.2753,4.236092759536743,7.5,4.236092759536743C6.71158,4.236092759536743,6.09375,4.844533759536743,6.09375,5.621253759536743C6.09375,5.8799937595367435,5.883765,6.089983759536743,5.625,6.089983759536743C5.366235,6.089983759536743,5.15625,5.879983759536743,5.15625,5.621233759536743C5.15625,4.340623759536744,6.20763,3.298593759536743,7.5,3.298593759536743C8.79237,3.298593759536743,9.84375,4.354683759536743,9.84375,5.653123759536744C9.84375,6.3548437595367435,9.311720000000001,6.886393759536743,8.7975,7.400623759536743C8.38969,7.807493759536743,7.96876,8.228433759536744,7.96876,8.606703759536742C7.96876,8.606703759536742,7.96876,9.399353759536744,7.96876,9.399353759536744C7.96876,9.658123759536743,7.7587600000000005,9.868573759536744,7.5,9.868573759536744C7.5,9.868573759536744,7.5,9.868573759536744,7.5,9.868573759536744Z" fill="#BBB" fill-opacity="1"/></g></g></g></svg> 这是什么？</a>        </div>    </div>',document.body.appendChild(HTML),console.log("[BiLive_PlayWithMeJS] [索码弹窗]","生成弹窗索要身份码")}static Hide(){document.getElementById("css_PlayWithMeJS_AuthDialog").remove(),document.getElementById("div_PlayWithMeJS_AuthDialog").remove(),console.log("[BiLive_PlayWithMeJS] [索码弹窗]","销毁弹窗与配套样式")}static Confirm(){if(document.getElementById("ipt_PlayWithMeJS_AuthDialog_Input")){let Code=document.getElementById("ipt_PlayWithMeJS_AuthDialog_Input").value;return Code.length>=13&&"B"==Code[0]?(BiLive_PlayWithMeJS.AuthCode=Code,BiLive_PlayWithMeJS_AuthDialog.Hide(),console.log("[BiLive_PlayWithMeJS] [索码弹窗]","用户提供了身份码："+Code),BiLive_PlayWithMeJS.AppStart(),!0):(console.error("[BiLive_PlayWithMeJS] [索码弹窗]","无法读入身份码，身份码非法"),!1)}console.error("[BiLive_PlayWithMeJS] [索码弹窗]","无法读入身份码，可能已经错误的销毁了输入框与弹窗")}}class decode_utf8{static toUint8Array(input){if(input instanceof Uint8Array)return input;if(input instanceof ArrayBuffer)return new Uint8Array(input);throw new TypeError('Expected "input" to be an ArrayBuffer or Uint8Array')}static decodeUtf8(input){const data=decode_utf8.toUint8Array(input),size=data.length;let result="";for(let index=0;index<size;index++){let byte1=data[index];if(byte1<128)result+=String.fromCodePoint(byte1);else if(192!=(224&byte1))if(224!=(240&byte1))if(240!=(248&byte1));else{let byte2=63&data[++index],byte3=63&data[++index],byte4=63&data[++index];result+=String.fromCodePoint((7&byte1)<<18|byte2<<12|byte3<<6|byte4)}else{let byte2=63&data[++index],byte3=63&data[++index];result+=String.fromCodePoint((15&byte1)<<12|byte2<<6|byte3)}else{let byte2=63&data[++index];result+=String.fromCodePoint((31&byte1)<<6|byte2)}}return result}}